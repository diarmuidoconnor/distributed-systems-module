## Cloud App Development - Lab-Based Assessment (Outline).

__Duration:__ 120 minutes.

__Instructions:__ 
Use the CDK project provided prior to this exam to implement your solutions to the questions below.
Attempt all questions.
Each question has a git commit instruction at the end, which you must follow. Submissions that do not include this git history cannot be assessed.
It is not necessary to push to GitHub after every commit; just ensure you push at the end of the exam.

### Question 1.

A user can add new items to the Auction Stock table by publishing messages to the SNS topic. The lambdaA function processes these messages. A message has two parts: the message data and the message attributes, for example:
~~~json
{. // Message Data
    "id": "Lot20",
    "name": "JAMES S. BROHAN (B. 1952)",
    "marketValue": 12000,
    "minimumPrice": 10000
}

{  // Attributes
    "auction_type": {
        "DataType": "String",
        "StringValue": "Public"
 }
}
~~~
The attributes file specifies the auction type for an item: Public, Private, or Online.
The command to publish a message to the topic is:
~~~bash
$ aws sns publish --topic-arn your-topic-arn  --message-attributes file://attributes.json --message file://message.json
~~~
__You are required__ to update the lambdaA function to handle these messages by writing the correct data to the database.

#### After completing the above implementation, commit the changes using the commit message "Updated add stock processing".

### Question 2.

The application should process these add-stock-item messages only when the auction type in the attributes JSON file is Public, Private, or Online; otherwise, the application should ignore the message. __You are required__ to make the necessary stack change to satisfy this requirement.

#### After completing the above implementation, commit the changes using the commit message "Ignore incorrect add stock messages".

 ### Question 3.

A new stock item should never be added to the database if its marketValue is less than its minimumPrice. 
The lambdaA function should throw an exception if it detects this in a message for adding a new stock item. These faulty messages 
should be sent to lambdaB instead - lambdaB will console log them to CloudWatch.
__You are required__ to make the necessary function and infrastructure changes to implement this requirement.

#### After completing the above implementation, commit the changes using the commit message "Handle invalid add stock messages".

 ### Question 4.

A user can place a bid for an auction item by publishing a message to the SNS topic. For example, the message to place a bid of $500 for item Lot5 would be as follows:
~~~json
 {
    "bidId": 100,
    "custemorName": "Joe Bloggs",
    "detail": {
      "itenId": "Lot5",
      "bidValue": 500
    }
 }
~~~ 
To publish these messages, use the same AWS CLI command as before, but omit the attributes-file option. The lambdaC function should process these messages; it simply writes them to the Bid table in the database, including an additional timestamp property, i.e. new Date().toString().

__Yoy are required__ to implement this feature, bearing in mind that processing bids is __time-critical__  - minimise the delay in processing bids. You can ignore bid validation, e.g., whether a bid's itemId matches an auction item.


#### After completing the above implementation, commit the changes using the commit message "Handle bid messages".

 ### Question 5.

The lambdaC function should only receive bid messages; it should not receive add-item messages. 

#### After completing the above implementation, commit the changes using the commit message "Send bid messages to the relevant subscriber".

-------------------------------------

### Make sure you push your local git commits to GitHub at the end of the exam.
.