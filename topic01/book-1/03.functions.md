## TS functions.

### Setup.
Create the file `src/myTypes.d.ts` and add the following declarations:
~~~ts

export interface Friend {
    name: string;
    phone: string;
    age: number
}

export interface Colleague {
    name: string;
    department: string;
    contact: {
      email: string;
      extension: number
    } 
  }
~~~
In `01-basics.ts` make the following changes: 
+ Add an import:
~~~ts
import {Friend, Colleague } from './myTypes'
~~~
+ Remove the two redundant interface declarations.
+ Comment out all the 'console.log()` statements.
+ Export the data arrays:
~~~ts
export const friends = [friend1, friend2];

export const colleagues = { ... as before ...};
~~~

Create the file `src/02-functions.ts` and add this line:
~~~ts
import {Friend, Colleague } from './myTypes'
~~~

Commit the changes:
~~~bash
$ git add -A
$ git commit -m "Refactor - Add type declaration file; disable redundant consol logs"
~~~
### Typed function signatures.

Add the following code to `02-functions.ts`:
~~~ts
import { friends, colleagues } from "./01-basics";

function older(f: Friend) : string {
     f.age += 1
     return `${f.name} is now ${f.age}` 
}

console.log(older(friends[0]))
~~~
Note the function's parameter type and return type. Run the script:
~~~bash
$ npx ts-node  src/02-functions.ts 
~~~

__You are required to__ add a new function, called 'allOlder', that takes an array of friend objects, increments each ones age by one year, and returns the new ages as an array of strings. For example, the statement:
~~~ts
console.log(allOlder(friends))
~~~
would output:
~~~bash
[ 'Paul Fleming is now 27', 'Jane Costello is now 32' ]
~~~

Add the following code to the end of the file:
~~~ts
function highestExtension(cs: Colleague[]): Colleague {
  const result = cs.sort(
    (c1, c2) => c1.contact.extension - c2.contact.extension
  );
  return result[cs.length - 1];
}
console.log(highestExtension(colleagues.current));
~~~
The 'highestExtension' function returns the colleague with the highest extension number so far. It sorts the array of colleagues in ascending extension number order, and then picks the last entry in the sorted array. Run the script to confirm it works.

__You are required to__wrute a function, called 'addColleague' that adds a colleague to an array, where their extensins number is to one plus the highest extension so far. To test your implementation, add the following code to the script:
~~~ts
addColleague(colleagues.current, "Sheild O Connell", "HR", "soc@here.com");
console.log(colleagues.current.filter((c) => c.name === "Sheild O Connell"));
~~~
It should output the following:
~~~bash
[
  {
    name: 'Sheild O Connell',
    department: 'HR',
    contact: { email: 'soc@here.com', extension: 133 }
  }
]
~~~

Commit the changes:
~~~bash
$ git add -A
$ git commit -m "Typed function signature"
~~~

### Type inference.

Notice how the compiler infers the type of the result from the array sort method:

![][infer] 

In many cases the compiler can infer the return type of a function. For example, make the change below:
~~~ts
function highestExtension(cs: Colleague[]) { // Inferred retun type
  const result = cs.sort(
    (c1, c2) => c1.contact.extension - c2.contact.extension
  );
  return result[cs.length - 1];
}
~~~

The signature is still unchanged:

![][infer2] 

__You are required to__ leverage type inferencing in the other functions in the script,

### Higher Order functions.

Suppose we want a function that takes an array of colleagues and a criteria to sort them. It should return the sorted data but just include their names and emails. Add a new data interface to `myTypes.d.ts`:
~~~ts
export interface EmailContact {
    name: string;
    email: string
}
~~~
Add the following code to the end of ``02-functions.ts::
~~~ts
function sortColleagues(
  colleagues: Colleague[],
  sorter: (c1: Colleague, c2: Colleague) => number
): EmailContact[] {
  const sorted = colleagues.sort(sorter);
  return sorted.map((ce) => ({ name: ce.name, email: ce.contact.email }));
}

console.log(sortColleagues(colleagues.current, (a, b) => a.contact.extension - b.contact.extension));
console.log(sortColleagues(colleagues.current, (a, b) => a.name.length - b.name.length));
~~~
The type for the second argument of 'sortColleagues' is a callback)(function) that takes two Colleague objects and returns a numeric value computed from comparing them. SortColleagues uses the callback to sort the array of colleagues. The first console.log() provide a callback that sorts collleagues by extension number, and the second one uses the length of a colleague's name as the basis for sorting. Run the script to see the results.

___You are required to__ write a function, called 'findFriends' that searches an array of friends for those that satisfy a criteria. The criteria is specified as a callback. For example, the following invocations of the method:
~~~ts
console.log(findFriends(friends, (friend) => friend.name.startsWith('Pa')));
console.log(findFriends(friends, (friend) => friend.age < 35));
~~~
would output the following:
~~~bash
[ 'Paul Fleming' ]
[ 'Paul Fleming', 'Jane Costello' ]
~~~

[infer]: ./img/infer.png
[infer2]: ./img/infer2.png
