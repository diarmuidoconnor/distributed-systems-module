## Cloud App Development - Assignment Specification. (DRAFT)

__IMPORTANT__
Please read the following instructions before commencing this assignment, as it may significantly impact your grade:

1. Read the entire specification before commencing development, and clarify any aspects you do not understand.
1. You are advised to set the visibility of your GitHub repo to PRIVATE to prevent plagiarism of your work. After the deadline date, you will be reminded to make it publicly accessible so that it can be assessed.
Your repo's Git log must have a clear, understandable and coherent history of the work on this assignment. The commit message must summarise the work performed (the task you were working on) at each stage.

__Objective:__ Demonstrate your understanding of the serverless services available on the AWS platform by designing and developing a web API for a movie information system. Your submission must use the CDK framework to provision the AWS resources required. 

__Completion date:__ xx/11/2025.

__Weighting:__ 45%.
__Deliverables:__
You should submit to Moodle a text file (assignment.txt) containing:
   + The URL of your  GitHub repository. 
   + The URL of the YouTube video demonstrating the API. 
   
Notes:
+ The repo README is the documentation of the work you have carried out and must be complete and accurate. A template will be provided.

### Detailed Specification.

#### The Web API.

The REST API (App API) should meet the following endpoint requirements:

+ GET  /movies/movieid - return a specific movie item.
+ GET /movies/movieid/actors - return all actors in a movie.
+ GET /awards?movie=movieid&actor=actorid&body=name - all combinations of querystring options are possible. The data included in the response should be the best effort at what the user is requesting. 
+ GET /movies/movieid/actors/actorid - get a movie cast member 
+ POST /movies - add a new movie item.
+ DELETE /movies/movieid - delete a specific movie item

+ A GET request that returns an item with all its text attributes translated to a specified language, e.g. GET s/partition_key/sort_key/translation?language=fr (French). Ideally, the API should __perform a translation once__; translations should be persisted and recalled for repeat requests.

#### Data entities.
The core domain data types used by the app are:

+ Movie.
     + movie ID - number.
     + title - string.
     + release date - string.
     + overview - string.
+ Actor.
     + actor id - number.
     + name - string.
     + bio - string.
     + date of birth - string.
+ Cast (Movie cast).
     + movie id
     + actor id
     + role name - string.
     + role description - string.
+ Award (Awards could be for an actor or a movie).
       + award id - number (either a movie id or an actor id.)
        + body - string (e.g. Bafta, Academy, Golden Globe)
        + category - string (e.g. Best Actor, Best Foreign Language movie)
        + year - number

#### DynamoDB table design.
The database design will follow the __Single-table__ design principle. All data types (movies, actors, etc) are stored in __one table__. The table's partition keys will be the ID (as a string) of the data entity, prefixed with a character to identify the entity type. The prefixes used are:
+ Movie - m.
+ Actor - a.
+ Cast - c.
+ Award - w. 

The partition key value (excluding the prefix) for the different entity types is as follows:
+ Movie - movie id.
+ Actor - actor id.
+ Cast - movie id.
+ Award - movie id or actor id. 

The table has a composite primary key, where the sort key value depends on the entity type, as follows:
+ Movie - xxxx (default).
+ Actor - xxxx (default).
+ Cast - actor id (as a string).
+ Award -  body name.

Sample table items are as follows:

A movie:
+ m1234  xxxx  The Shawshank Redemption  05-03-1995  A banker convicted of uxoricide forms a friendship over a quarter century with a hardened convict .....

An actor:
+ a6789  Morgan Freeman   Born on June 1, 1937, in Memphis, Tennessee. After serving in the U.S. Air Force, he began his acting career in New York, gaining early recognition on the children's show The Electric Company ....  01-06-1937

A cast member:
+ c1234    6789   Ellis Redding   A contraband smuggler serving a life sentence. Red is being interviewed for parole after having spent 20 years at Shawshank for murder .....

An award:
+ w1234   Academy   Best Movie. 1995
+ w6789   Academy    Best Supporting Actor  1995

#### Authentication. 

The app has two forms of authentication:
+ Username and password credentials for users.
+ An API key for the administrator.

The Cognito service manages user credentials. The CDK stack should include a separate web API (the Auth API) to provide user authentication for the App API. It should allow users to self-register, log in, and log out. You are allowed to reuse the Auth API developed in the labs. 

The administrator authenticates using an API key instead of a username and password. The key is generated at deployment time by the API Gateway service.

#### Authorisation.

Only authenticated users are allowed to perform HTTP GET requests, and the administrator can perform POST, PUT, and DELETE requests.

#### Logging.

The application should log all user requests to CloudWatch logs. A log entry should spe
Specify the request path (e.g. /movies/1234) and the Cognito username of the requester (e.g. doconnor).  

[The log stream is used for analysis, but this process is outside the scope of this assignment.] 

### Grading Spectrum.
Todo.

